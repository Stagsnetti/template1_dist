import{r as P,p as E,j as h}from"../template1.js";var q={},x={},I={},N={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(r){(function(){var a={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var s=arguments[t];if(s){var l=typeof s;if(l==="string"||l==="number")e.push(s);else if(Array.isArray(s)){if(s.length){var n=o.apply(null,s);n&&e.push(n)}}else if(l==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){e.push(s.toString());continue}for(var i in s)a.call(s,i)&&s[i]&&e.push(i)}}}return e.join(" ")}r.exports?(o.default=o,r.exports=o):window.classNames=o})()})(N);var D=N.exports;Object.defineProperty(I,"__esModule",{value:!0});var W=function(){function r(a,o){for(var e=0;e<o.length;e++){var t=o[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(a,t.key,t)}}return function(a,o,e){return o&&r(a.prototype,o),e&&r(a,e),a}}(),J=P,R=O(J),K=D,Q=O(K),U=E,f=O(U);function O(r){return r&&r.__esModule?r:{default:r}}function X(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function Y(r,a){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:r}function Z(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(r,a):r.__proto__=a)}var j=function(r){Z(a,r);function a(){return X(this,a),Y(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return W(a,[{key:"render",value:function(){var e=this.props,t=e.changeRating,s=e.hoverOverStar,l=e.unHoverOverStar,n=e.svgIconViewBox,i=e.svgIconPath;return R.default.createElement("div",{className:"star-container",style:this.starContainerStyle,onMouseEnter:s,onMouseLeave:l,onClick:t},R.default.createElement("svg",{viewBox:n,className:this.starClasses,style:this.starSvgStyle},R.default.createElement("path",{className:"star",style:this.pathStyle,d:i})))}},{key:"starContainerStyle",get:function(){var e=this.props,t=e.changeRating,s=e.starSpacing,l=e.isFirstStar,n=e.isLastStar,i=e.ignoreInlineStyles,u={position:"relative",display:"inline-block",verticalAlign:"middle",paddingLeft:l?void 0:s,paddingRight:n?void 0:s,cursor:t?"pointer":void 0};return i?{}:u}},{key:"starSvgStyle",get:function(){var e=this.props,t=e.ignoreInlineStyles,s=e.isCurrentHoveredStar,l=e.starDimension,n={width:l,height:l,transition:"transform .2s ease-in-out",transform:s?"scale(1.1)":void 0};return t?{}:n}},{key:"pathStyle",get:function(){var e=this.props,t=e.isStarred,s=e.isPartiallyFullStar,l=e.isHovered,n=e.hoverMode,i=e.starEmptyColor,u=e.starRatedColor,S=e.starHoverColor,c=e.gradientPathName,d=e.fillId,g=e.ignoreInlineStyles,m=void 0;n?l?m=S:m=i:s?m="url('"+c+"#"+d+"')":t?m=u:m=i;var _={fill:m,transition:"fill .2s ease-in-out"};return g?{}:_}},{key:"starClasses",get:function(){var e=this.props,t=e.isSelected,s=e.isPartiallyFullStar,l=e.isHovered,n=e.isCurrentHoveredStar,i=e.ignoreInlineStyles,u=(0,Q.default)({"widget-svg":!0,"widget-selected":t,"multi-widget-selected":s,hovered:l,"current-hovered":n});return i?{}:u}}]),a}(R.default.Component);j.propTypes={fillId:f.default.string.isRequired,changeRating:f.default.func,hoverOverStar:f.default.func,unHoverOverStar:f.default.func,isStarred:f.default.bool.isRequired,isPartiallyFullStar:f.default.bool.isRequired,isHovered:f.default.bool.isRequired,hoverMode:f.default.bool.isRequired,isCurrentHoveredStar:f.default.bool.isRequired,isFirstStar:f.default.bool.isRequired,isLastStar:f.default.bool.isRequired,starDimension:f.default.string.isRequired,starSpacing:f.default.string.isRequired,starHoverColor:f.default.string.isRequired,starRatedColor:f.default.string.isRequired,starEmptyColor:f.default.string.isRequired,gradientPathName:f.default.string.isRequired,ignoreInlineStyles:f.default.bool.isRequired,svgIconPath:f.default.string.isRequired,svgIconViewBox:f.default.string.isRequired};I.default=j;Object.defineProperty(x,"__esModule",{value:!0});var ee=function(){function r(a,o){for(var e=0;e<o.length;e++){var t=o[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(a,t.key,t)}}return function(a,o,e){return o&&r(a.prototype,o),e&&r(a,e),a}}(),te=P,y=C(te),re=E,v=C(re),ae=I,ne=C(ae);function C(r){return r&&r.__esModule?r:{default:r}}function se(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function H(r,a){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:r}function ie(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(r,a):r.__proto__=a)}var w=function(r){ie(a,r);function a(){var o,e,t,s;se(this,a);for(var l=arguments.length,n=Array(l),i=0;i<l;i++)n[i]=arguments[i];return s=(e=(t=H(this,(o=a.__proto__||Object.getPrototypeOf(a)).call.apply(o,[this].concat(n))),t),t.state={highestStarHovered:-1/0},t.fillId="starGrad"+Math.random().toFixed(15).slice(2),t.hoverOverStar=function(u){return function(){t.setState({highestStarHovered:u})}},t.unHoverOverStar=function(){t.setState({highestStarHovered:-1/0})},e),H(t,s)}return ee(a,[{key:"stopColorStyle",value:function(e){var t={stopColor:e,stopOpacity:"1"};return this.props.ignoreInlineStyles?{}:t}},{key:"render",value:function(){var e=this.props,t=e.starRatedColor,s=e.starEmptyColor;return y.default.createElement("div",{className:"star-ratings",title:this.titleText,style:this.starRatingsStyle},y.default.createElement("svg",{className:"star-grad",style:this.starGradientStyle},y.default.createElement("defs",null,y.default.createElement("linearGradient",{id:this.fillId,x1:"0%",y1:"0%",x2:"100%",y2:"0%"},y.default.createElement("stop",{offset:"0%",className:"stop-color-first",style:this.stopColorStyle(t)}),y.default.createElement("stop",{offset:this.offsetValue,className:"stop-color-first",style:this.stopColorStyle(t)}),y.default.createElement("stop",{offset:this.offsetValue,className:"stop-color-final",style:this.stopColorStyle(s)}),y.default.createElement("stop",{offset:"100%",className:"stop-color-final",style:this.stopColorStyle(s)})))),this.renderStars)}},{key:"starRatingsStyle",get:function(){var e={position:"relative",boxSizing:"border-box",display:"inline-block"};return this.props.ignoreInlineStyles?{}:e}},{key:"starGradientStyle",get:function(){var e={position:"absolute",zIndex:"0",width:"0",height:"0",visibility:"hidden"};return this.props.ignoreInlineStyles?{}:e}},{key:"titleText",get:function(){var e=this.props,t=e.typeOfWidget,s=e.rating,l=this.state.highestStarHovered,n=l>0?l:s,i=parseFloat(n.toFixed(2)).toString();Number.isInteger(n)&&(i=String(n));var u=t+"s";return i==="1"&&(u=t),i+" "+u}},{key:"offsetValue",get:function(){var e=this.props.rating,t=Number.isInteger(e),s="0%";if(!t){var l=e.toFixed(2).split(".")[1].slice(0,2);s=l+"%"}return s}},{key:"renderStars",get:function(){var e=this,t=this.props,s=t.changeRating,l=t.rating,n=t.numberOfStars,i=t.starDimension,u=t.starSpacing,S=t.starRatedColor,c=t.starEmptyColor,d=t.starHoverColor,g=t.gradientPathName,m=t.ignoreInlineStyles,_=t.svgIconPath,M=t.svgIconViewBox,F=t.name,b=this.state.highestStarHovered,k=Array.apply(null,Array(n));return k.map(function(fe,T){var p=T+1,V=p<=l,$=b>0,B=p<=b,A=p===b,L=p>l&&p-1<l,G=p===1,z=p===n;return y.default.createElement(ne.default,{key:p,fillId:e.fillId,changeRating:s?function(){return s(p,F)}:null,hoverOverStar:s?e.hoverOverStar(p):null,unHoverOverStar:s?e.unHoverOverStar:null,isStarred:V,isPartiallyFullStar:L,isHovered:B,hoverMode:$,isCurrentHoveredStar:A,isFirstStar:G,isLastStar:z,starDimension:i,starSpacing:u,starHoverColor:d,starRatedColor:S,starEmptyColor:c,gradientPathName:g,ignoreInlineStyles:m,svgIconPath:_,svgIconViewBox:M})})}}]),a}(y.default.Component);w.propTypes={rating:v.default.number.isRequired,numberOfStars:v.default.number.isRequired,changeRating:v.default.func,starHoverColor:v.default.string.isRequired,starRatedColor:v.default.string.isRequired,starEmptyColor:v.default.string.isRequired,starDimension:v.default.string.isRequired,starSpacing:v.default.string.isRequired,gradientPathName:v.default.string.isRequired,ignoreInlineStyles:v.default.bool.isRequired,svgIconPath:v.default.string.isRequired,svgIconViewBox:v.default.string.isRequired,name:v.default.string};w.defaultProps={rating:0,typeOfWidget:"Star",numberOfStars:5,changeRating:null,starHoverColor:"rgb(230, 67, 47)",starRatedColor:"rgb(109, 122, 130)",starEmptyColor:"rgb(203, 211, 227)",starDimension:"50px",starSpacing:"7px",gradientPathName:"",ignoreInlineStyles:!1,svgIconPath:"m25,1 6,17h18l-14,11 5,17-15-10-15,10 5-17-14-11h18z",svgIconViewBox:"0 0 51 48"};x.default=w;Object.defineProperty(q,"__esModule",{value:!0});var oe=x,le=ue(oe);function ue(r){return r&&r.__esModule?r:{default:r}}Number.isInteger=Number.isInteger||function(r){return typeof r=="number"&&isFinite(r)&&Math.floor(r)===r};var de=q.default=le.default;const ge=({apiData:r})=>{const a=r.details.propertylist.reduce((n,i)=>{const u=i.surveys_list,c=u.map(d=>d.survey_rating_a).reduce((d,g)=>d+g,0);return n+c/u.length},0)/r.details.propertylist.length,o=r.details.propertylist.reduce((n,i)=>{const u=i.surveys_list,c=u.map(d=>d.survey_rating_b).reduce((d,g)=>d+g,0);return n+c/u.length},0)/r.details.propertylist.length,e=r.details.propertylist.reduce((n,i)=>{const u=i.surveys_list,c=u.map(d=>d.survey_rating_c).reduce((d,g)=>d+g,0);return n+c/u.length},0)/r.details.propertylist.length,t=r.details.propertylist.reduce((n,i)=>{const u=i.surveys_list,c=u.map(d=>d.survey_rating_d).reduce((d,g)=>d+g,0);return n+c/u.length},0)/r.details.propertylist.length,s=r.details.propertylist.reduce((n,i)=>{const u=i.surveys_list,c=u.map(d=>d.survey_rating_e).reduce((d,g)=>d+g,0);return n+c/u.length},0)/r.details.propertylist.length,l=[{rating:Math.round(a*2)/2,label:"Cleanliness"},{rating:Math.round(o*2)/2,label:"Amenities"},{rating:Math.round(e*2)/2,label:"Location"},{rating:Math.round(t*2)/2,label:"Comfort"},{rating:Math.round(s*2)/2,label:"Something else"}];return h.jsx(h.Fragment,{children:h.jsxs("div",{className:"lg:px-14 mt-4 md:px-8 px-4 md:w-4/12 w-full",children:[h.jsx("h1",{className:"text-cyan-700 text-lg font-medium",children:"Reviews"}),h.jsxs("h1",{className:"text-3xl mb-7 mt-1",children:[l.map(n=>n==null?void 0:n.rating).reduce((n,i)=>n+i)/l.length,"/5"]}),l.map((n,i)=>h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between mt-4",children:[h.jsx("h2",{className:"text-xs",children:n==null?void 0:n.label}),h.jsxs("p",{className:"text-xs",children:[n==null?void 0:n.rating,"/5"]})]}),h.jsx(de,{rating:n==null?void 0:n.rating,starRatedColor:"black",numberOfStars:5,name:"Rating",starSpacing:"8 px",starDimension:"18px"})]},i))]})})};export{ge as default};
